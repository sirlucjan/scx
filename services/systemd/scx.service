[Unit]
Description=Start scx_scheduler
ConditionPathIsDirectory=/sys/kernel/sched_ext
StartLimitIntervalSec=30
StartLimitBurst=2

[Service]
Type=simple
EnvironmentFile=/etc/default/scx
ExecStart=/bin/bash -c 'exec $SCX_SCHEDULER $SCX_FLAGS '
Restart=on-failure
StandardError=journal
LogNamespace=sched-ext
ReadOnlyPaths=/sys/kernel/sched_ext

[Install]
WantedBy=graphical.target
